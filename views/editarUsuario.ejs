<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://kit.fontawesome.com/4fa28797ee.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="/css/styleHome.css">
        <link rel="icon" type="image/x-icon" href="/images/Logo San José para pared2.png">
        <title>Registro</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Merienda&display=swap" rel="stylesheet">
    </head>

<body>
    <!-- HEADER -->

    <%- include("partials/header.ejs") %>

        <!-- MAIN -->

        <div class="contain-main">

            <div class="div-desktopR">

                <section class="seccion-registro">

                    <div class="tit-crea-cuenta">

                        <h4>Estas editando la cuenta <%= usuarios.nombre%></h4>

                    </div>



                    <form class="form-create" method="POST" action="?_method=PUT">

                        <div class="control-form">

                            <label for="numero-identificacion">Numero de identificacion :</label>
                            <input type="number" 
                            value="<%= usuarios.numeroID%>" 
                            
                            name="numeroID"
                            id="numero-identificacion" 
                            class="control <%=locals.errors && errors.numeroID ? 'is-invalid' : null%>" 
                            value="<%=locals.datosAntiguos ? datosAntiguos.numeroID : null%>"
                            >
                                <%if (locals.errors && errors.numeroID) {%>

                                    <div class="mensaje-error">
                                        <%= errors.numeroID.msg %>
                                    </div>
    
                                <% } %>
                        </div>

                        <div class="control-form">

                            <label for="nombre">Nombre y apellido:</label>
                            <input type="text" 
                            value="<%= usuarios.nombre%>"
                            name="nombre" 
                            id="nombre" 
                            class="control <%=locals.errors && errors.nombre ? 'is-invalid' : null%>"
                            value="<%=locals.datosAntiguos ? datosAntiguos.nombre : null%>"
                                >
                            <%if (locals.errors && errors.nombre) {%>

                                <div class="mensaje-error">
                                    <%= errors.nombre.msg %>
                                </div>

                            <% } %>
                        </div>

                        <div class="control-form">

                            <label for="image1">Sube tu imagen</label>
                            <input class="control-img" type="file" name="imagenReg" >
                            <% if (locals.errors && errors.imagenReg) { %>
                              <div class="mensaje-error">
                               <%= errors.imagenReg.msg %>
                              </div>

                            <% } %>
                            
                        </div>
                        

                        <div class="control-form">

                            <label for="email">Correo Electrónico:</label>
                            <input type="email" 
                            value="<%= usuarios.email%>"
                            name="email" 
                            id="email"
                            class="control <%=locals.errors && errors.email ? 'is-invalid' : null%>" 
                            value="<%=locals.datosAntiguos ? datosAntiguos.email : null%>"
                            >
                                <%if (locals.errors && errors.email) {%>

                                    <div class="mensaje-error">
                                        <%= errors.email.msg %>
                                    </div>
    
                                <% } %>
                        </div>

                        <div class="control-form">

                            <label for="fecha">Fecha de nacimiento:</label>
                            <input type="date" name="fechanacimiento" value="2022-05-22" min="1940-01-01" max="2022-05-22"
                                id="fecha" class="control" >
                            
                        </div>

                        <div class="control-form">

                            <label for="ciudad">Ciudad</label>
                            <select 
                            name="ciudad" 
                            id="ciudad" 
                            class= "form-select <%= locals.errors && errors.ciudad ? 'is-invalid' : null %>"
                        >
                            <option value="">Elige una ciudad</option>
                            <%
                                let ciudades = ['Medellin', 'Bogotá', 'Envigado', 'Itagüí', 'La Estrella'];
                            %>
                            <% for (const unaCiudad of ciudades) { %>
                                <option 
                                value="<%= unaCiudad %>"
                                <%= locals.datosAntiguos && (unaCiudad === datosAntiguos.ciudad) ? 'selected': null %>
                                > <%= unaCiudad %> </option>
                            <% } %>     
                                <!-- <option value="medellin">Medellin</option>
                                <option value="bogota">Bogotá</option>
                                <option value="envigado">Envigado</option>
                                <option value="itagui">Itagüí</option>
                                <option value="la-estrella">La Estrella</option> -->
                            </select>
                            <%if (locals.errors && errors.ciudad) {%>

                                <div class="mensaje-error">
                                    <%= errors.ciudad.msg %>
                                </div>

                            <% } %>
                        </div>

                        <div class="control-form">

                            <label for="password">Contraseña:</label>
                            <input type="password" placeholder="****" name="password" id="password" class="control"
                                >
                                <%if (locals.errors && errors.password) {%>

                                    <div class="mensaje-error">
                                        <%= errors.password.msg %>
                                    </div>
    
                                <% } %>
                        </div>

                        <div class="control-form">

                            <label for="con_password">Confirmar contraseña:</label>
                            <input type="password" placeholder="****" name="con_password" id="con_password"
                                class="control" >
                                <%if (locals.errors && errors.con_password) {%>

                                    <div class="mensaje-error">
                                        <%= errors.con_password.msg %>
                                    </div>
    
                                <% } %>
                        </div>

                        <div class="control-politic">

                            <input type="checkbox" name="politica" value="politica" id="politica" >
                            <label for="politica">He leído la <a href="#">política de tratamiento de datos personales</a> y acepto el
                                uso de
                                mis
                                datos</label>

                        </div>

                        <div class="button-form">

                            <button type="submit">Enviar</button>

                        </div>

                    </form>

                    

                    

                </section>
            </div>
        </div>

        </section>
        <!-- PIE DE PAGINA -->

        <%- include("partials/footer.ejs") %>

</body>

</html>